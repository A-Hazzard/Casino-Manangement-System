export type Currency =
  | "USD"
  | "EUR"
  | "GBP"
  | "CAD"
  | "AUD"
  | "JPY"
  | "CHF"
  | "CNY"
  | "INR"
  | "BRL"
  | "MXN"
  | "ZAR"
  | "KRW"
  | "SGD"
  | "HKD"
  | "NOK"
  | "SEK"
  | "DKK"
  | "PLN"
  | "CZK"
  | "HUF"
  | "RUB"
  | "TRY"
  | "AED"
  | "SAR"
  | "QAR"
  | "KWD"
  | "BHD"
  | "OMR"
  | "JOD"
  | "LBP"
  | "EGP"
  | "MAD"
  | "TND"
  | "DZD"
  | "LYD"
  | "SDG"
  | "ETB"
  | "KES"
  | "UGX"
  | "TZS"
  | "RWF"
  | "BWP"
  | "ZMW"
  | "MWK"
  | "MZN"
  | "AOA"
  | "XAF"
  | "XOF"
  | "NGN"
  | "GHS"
  | "SLL"
  | "LRD"
  | "GMD"
  | "GNF"
  | "CDF"
  | "BIF"
  | "RWF"
  | "SOS"
  | "DJF"
  | "ERN"
  | "SZL"
  | "LSL"
  | "NAD"
  | "MGA"
  | "MUR"
  | "SCR"
  | "KMF"
  | "CVE"
  | "STP"
  | "XPF"
  | "FJD"
  | "TOP"
  | "WST"
  | "VUV"
  | "SBD"
  | "PGK"
  | "TVD"
  | "KID"
  | "NRU"
  | "AUD"
  | "NZD"
  | "TWD"
  | "HKD"
  | "MOP"
  | "MYR"
  | "THB"
  | "IDR"
  | "PHP"
  | "VND"
  | "LAK"
  | "KHR"
  | "MMK"
  | "BND"
  | "LKR"
  | "NPR"
  | "BTN"
  | "BDT"
  | "PKR"
  | "AFN"
  | "IRR"
  | "IQD"
  | "SYP"
  | "YER"
  | "UZS"
  | "TMT"
  | "TJS"
  | "KGS"
  | "KZT"
  | "AZN"
  | "GEL"
  | "AMD"
  | "MDL"
  | "UAH"
  | "BYN"
  | "RON"
  | "BGN"
  | "HRK"
  | "RSD"
  | "BAM"
  | "MKD"
  | "ALL"
  | "EUR"
  | "ISK"
  | "FOK"
  | "GIP"
  | "JEP"
  | "GGP"
  | "IMP"
  | "FKP"
  | "SHP"
  | "CYP"
  | "MTL"
  | "SKK"
  | "SIT"
  | "EEK"
  | "LVL"
  | "LTL";

export type Language =
  | "en"
  | "es"
  | "fr"
  | "de"
  | "it"
  | "pt"
  | "ru"
  | "zh"
  | "ja"
  | "ko"
  | "ar"
  | "hi"
  | "tr"
  | "pl"
  | "nl"
  | "sv"
  | "da"
  | "no"
  | "fi"
  | "cs"
  | "hu"
  | "ro"
  | "bg"
  | "hr"
  | "sk"
  | "sl"
  | "et"
  | "lv"
  | "lt"
  | "mt"
  | "cy"
  | "ga"
  | "is"
  | "fo"
  | "gl"
  | "eu"
  | "ca"
  | "oc"
  | "rm"
  | "lb"
  | "gsw"
  | "fur"
  | "lad"
  | "sc"
  | "co"
  | "br"
  | "gd"
  | "cy"
  | "kw"
  | "gv";

export type Region =
  | "US"
  | "CA"
  | "MX"
  | "BR"
  | "AR"
  | "CL"
  | "CO"
  | "PE"
  | "VE"
  | "EC"
  | "UY"
  | "PY"
  | "BO"
  | "GY"
  | "SR"
  | "GF"
  | "FK"
  | "GS"
  | "GB"
  | "IE"
  | "FR"
  | "ES"
  | "PT"
  | "IT"
  | "DE"
  | "AT"
  | "CH"
  | "LI"
  | "LU"
  | "BE"
  | "NL"
  | "DK"
  | "SE"
  | "NO"
  | "FI"
  | "IS"
  | "FO"
  | "GL"
  | "SJ"
  | "PL"
  | "CZ"
  | "SK"
  | "HU"
  | "RO"
  | "BG"
  | "SI"
  | "HR"
  | "BA"
  | "RS"
  | "ME"
  | "MK"
  | "AL"
  | "GR"
  | "CY"
  | "MT"
  | "TR"
  | "RU"
  | "BY"
  | "UA"
  | "MD"
  | "GE"
  | "AM"
  | "AZ"
  | "KZ"
  | "KG"
  | "TJ"
  | "TM"
  | "UZ"
  | "AF"
  | "PK"
  | "IN"
  | "BD"
  | "LK"
  | "MV"
  | "NP"
  | "BT"
  | "CN"
  | "MN"
  | "KP"
  | "KR"
  | "JP"
  | "TW"
  | "HK"
  | "MO"
  | "TH"
  | "VN"
  | "LA"
  | "KH"
  | "MM"
  | "MY"
  | "SG"
  | "BN"
  | "ID"
  | "TL"
  | "PH"
  | "PG"
  | "AU"
  | "NZ"
  | "FJ"
  | "NC"
  | "VU"
  | "SB"
  | "TO"
  | "WS"
  | "KI"
  | "TV"
  | "NR"
  | "PW"
  | "FM"
  | "MH"
  | "NU"
  | "CK"
  | "PF"
  | "WF"
  | "AS"
  | "GU"
  | "MP"
  | "PR"
  | "VI"
  | "EG"
  | "LY"
  | "TN"
  | "DZ"
  | "MA"
  | "EH"
  | "SD"
  | "SS"
  | "ET"
  | "ER"
  | "DJ"
  | "SO"
  | "KE"
  | "UG"
  | "TZ"
  | "RW"
  | "BI"
  | "MG"
  | "KM"
  | "MU"
  | "SC"
  | "MZ"
  | "ZW"
  | "ZM"
  | "MW"
  | "BW"
  | "SZ"
  | "LS"
  | "ZA"
  | "NA"
  | "AO"
  | "CD"
  | "CF"
  | "TD"
  | "CM"
  | "GQ"
  | "GA"
  | "CG"
  | "ST"
  | "CV"
  | "SN"
  | "GM"
  | "GW"
  | "GN"
  | "SL"
  | "LR"
  | "CI"
  | "GH"
  | "TG"
  | "BJ"
  | "BF"
  | "ML"
  | "NE"
  | "NG"
  | "MR"
  | "IR"
  | "IQ"
  | "SY"
  | "LB"
  | "JO"
  | "IL"
  | "PS"
  | "SA"
  | "YE"
  | "OM"
  | "AE"
  | "QA"
  | "BH"
  | "KW";

export type Theme = "light" | "dark" | "system";

export type NotificationPreference = {
  enabled: boolean;
  sound: boolean;
  desktop: boolean;
  email: boolean;
  sms: boolean;
};

export type NotificationSettings = {
  systemAlerts: NotificationPreference;
  cabinetAlerts: NotificationPreference;
  collectionReminders: NotificationPreference;
  reportGeneration: NotificationPreference;
  maintenanceAlerts: NotificationPreference;
  securityAlerts: NotificationPreference;
  performanceAlerts: NotificationPreference;
  complianceAlerts: NotificationPreference;
};

export type DisplaySettings = {
  theme: Theme;
  fontSize: "small" | "medium" | "large";
  compactMode: boolean;
  showAnimations: boolean;
  highContrast: boolean;
  reducedMotion: boolean;
};

export type RegionalSettings = {
  language: Language;
  region: Region;
  currency: Currency;
  dateFormat:
    | "MM/DD/YYYY"
    | "DD/MM/YYYY"
    | "YYYY-MM-DD"
    | "DD-MM-YYYY"
    | "MM-DD-YYYY";
  timeFormat: "12h" | "24h";
  timezone: string;
  numberFormat: "US" | "EU" | "UK" | "IN" | "Custom";
  currencyPosition: "before" | "after";
  currencySymbol: string;
};

export type PrivacySettings = {
  shareUsageData: boolean;
  allowCookies: boolean;
  trackingPreference: "all" | "essential" | "none";
  dataRetentionPeriod: "30d" | "90d" | "1y" | "forever";
  exportDataOnRequest: boolean;
};

export type SecuritySettings = {
  twoFactorAuth: boolean;
  sessionTimeout: number; // in minutes
  passwordExpiry: number; // in days
  loginNotifications: boolean;
  ipWhitelist: string[];
  allowMultipleSessions: boolean;
  requirePasswordChange: boolean;
};

export type SystemSettings = {
  autoRefresh: boolean;
  refreshInterval: number; // in seconds
  defaultPageSize: number;
  autoSave: boolean;
  autoSaveInterval: number; // in seconds
  enableDebugMode: boolean;
  showSystemInfo: boolean;
  performanceMode: "balanced" | "performance" | "battery";
};

export type BackupSettings = {
  autoBackup: boolean;
  backupFrequency: "daily" | "weekly" | "monthly";
  backupRetention: number; // in days
  includeUserData: boolean;
  includeSystemLogs: boolean;
  backupLocation: "local" | "cloud" | "both";
  encryptBackups: boolean;
};

export type IntegrationSettings = {
  apiEndpoints: Record<string, string>;
  webhookUrls: Record<string, string>;
  externalServices: Record<string, boolean>;
  syncSettings: Record<
    string,
    {
      enabled: boolean;
      frequency: "realtime" | "hourly" | "daily";
      lastSync: Date | null;
    }
  >;
};

export type UserSettings = {
  id: string;
  userId: string;
  notifications: NotificationSettings;
  display: DisplaySettings;
  regional: RegionalSettings;
  privacy: PrivacySettings;
  security: SecuritySettings;
  system: SystemSettings;
  backup: BackupSettings;
  integrations: IntegrationSettings;
  customSettings: Record<string, unknown>;
  createdAt: Date;
  updatedAt: Date;
};

export type SettingsCategory =
  | "notifications"
  | "display"
  | "regional"
  | "privacy"
  | "security"
  | "system"
  | "backup"
  | "integrations"
  | "custom";

export type SettingsValidationError = {
  field: string;
  message: string;
  code: string;
};

// Helper type to map settings categories to their corresponding types
type SettingsCategoryMap = {
  notifications: NotificationSettings;
  display: DisplaySettings;
  regional: RegionalSettings;
  privacy: PrivacySettings;
  security: SecuritySettings;
  system: SystemSettings;
  backup: BackupSettings;
  integrations: IntegrationSettings;
  custom: Record<string, unknown>;
};

export type SettingsUpdateRequest = {
  category: SettingsCategory;
  settings: Partial<SettingsCategoryMap[SettingsCategory]>;
};

export type SettingsUpdateResponse = {
  success: boolean;
  errors?: SettingsValidationError[];
  data?: UserSettings;
};

// Default settings values
export const DEFAULT_SETTINGS: Omit<
  UserSettings,
  "id" | "userId" | "createdAt" | "updatedAt"
> = {
  notifications: {
    systemAlerts: {
      enabled: true,
      sound: true,
      desktop: true,
      email: true,
      sms: false,
    },
    cabinetAlerts: {
      enabled: true,
      sound: true,
      desktop: true,
      email: true,
      sms: false,
    },
    collectionReminders: {
      enabled: true,
      sound: false,
      desktop: true,
      email: true,
      sms: false,
    },
    reportGeneration: {
      enabled: true,
      sound: false,
      desktop: true,
      email: true,
      sms: false,
    },
    maintenanceAlerts: {
      enabled: true,
      sound: true,
      desktop: true,
      email: true,
      sms: true,
    },
    securityAlerts: {
      enabled: true,
      sound: true,
      desktop: true,
      email: true,
      sms: true,
    },
    performanceAlerts: {
      enabled: true,
      sound: false,
      desktop: true,
      email: true,
      sms: false,
    },
    complianceAlerts: {
      enabled: true,
      sound: true,
      desktop: true,
      email: true,
      sms: true,
    },
  },
  display: {
    theme: "system",
    fontSize: "medium",
    compactMode: false,
    showAnimations: true,
    highContrast: false,
    reducedMotion: false,
  },
  regional: {
    language: "en",
    region: "US",
    currency: "USD",
    dateFormat: "MM/DD/YYYY",
    timeFormat: "12h",
    timezone: "America/New_York",
    numberFormat: "US",
    currencyPosition: "before",
    currencySymbol: "$",
  },
  privacy: {
    shareUsageData: false,
    allowCookies: true,
    trackingPreference: "essential",
    dataRetentionPeriod: "1y",
    exportDataOnRequest: true,
  },
  security: {
    twoFactorAuth: false,
    sessionTimeout: 480, // 8 hours
    passwordExpiry: 90,
    loginNotifications: true,
    ipWhitelist: [],
    allowMultipleSessions: false,
    requirePasswordChange: false,
  },
  system: {
    autoRefresh: true,
    refreshInterval: 30,
    defaultPageSize: 25,
    autoSave: true,
    autoSaveInterval: 60,
    enableDebugMode: false,
    showSystemInfo: false,
    performanceMode: "balanced",
  },
  backup: {
    autoBackup: true,
    backupFrequency: "weekly",
    backupRetention: 30,
    includeUserData: true,
    includeSystemLogs: false,
    backupLocation: "cloud",
    encryptBackups: true,
  },
  integrations: {
    apiEndpoints: {},
    webhookUrls: {},
    externalServices: {},
    syncSettings: {},
  },
  customSettings: {},
};

// Currency symbols mapping
export const CURRENCY_SYMBOLS: Record<Currency, string> = {
  USD: "$",
  EUR: "€",
  GBP: "£",
  CAD: "C$",
  AUD: "A$",
  JPY: "¥",
  CHF: "CHF",
  CNY: "¥",
  INR: "₹",
  BRL: "R$",
  MXN: "$",
  ZAR: "R",
  KRW: "₩",
  SGD: "S$",
  HKD: "HK$",
  NOK: "kr",
  SEK: "kr",
  DKK: "kr",
  PLN: "zł",
  CZK: "Kč",
  HUF: "Ft",
  RUB: "₽",
  TRY: "₺",
  AED: "د.إ",
  SAR: "﷼",
  QAR: "﷼",
  KWD: "د.ك",
  BHD: ".د.ب",
  OMR: "﷼",
  JOD: "د.ا",
  LBP: "ل.ل",
  EGP: "£",
  MAD: "د.م.",
  TND: "د.ت",
  DZD: "د.ج",
  LYD: "ل.د",
  SDG: "ج.س.",
  ETB: "Br",
  KES: "KSh",
  UGX: "USh",
  TZS: "TSh",
  RWF: "RF",
  BWP: "P",
  ZMW: "ZK",
  MWK: "MK",
  MZN: "MT",
  AOA: "Kz",
  XAF: "FCFA",
  XOF: "CFA",
  NGN: "₦",
  GHS: "₵",
  SLL: "Le",
  LRD: "L$",
  GMD: "D",
  GNF: "FG",
  CDF: "FC",
  BIF: "FBu",
  SOS: "S",
  DJF: "Fdj",
  ERN: "Nfk",
  SZL: "E",
  LSL: "L",
  NAD: "N$",
  MGA: "Ar",
  MUR: "₨",
  SCR: "₨",
  KMF: "CF",
  CVE: "$",
  STP: "Db",
  XPF: "₣",
  FJD: "FJ$",
  TOP: "T$",
  WST: "WS$",
  VUV: "VT",
  SBD: "SI$",
  PGK: "K",
  TVD: "TV$",
  KID: "A$",
  NRU: "A$",
  NZD: "NZ$",
  TWD: "NT$",
  MOP: "MOP$",
  MYR: "RM",
  THB: "฿",
  IDR: "Rp",
  PHP: "₱",
  VND: "₫",
  LAK: "₭",
  KHR: "៛",
  MMK: "K",
  BND: "B$",
  LKR: "₨",
  NPR: "₨",
  BTN: "Nu.",
  BDT: "৳",
  PKR: "₨",
  AFN: "؋",
  IRR: "﷼",
  IQD: "ع.د",
  SYP: "£",
  YER: "﷼",
  UZS: "лв",
  TMT: "T",
  TJS: "SM",
  KGS: "лв",
  KZT: "₸",
  AZN: "₼",
  GEL: "₾",
  AMD: "֏",
  MDL: "lei",
  UAH: "₴",
  BYN: "Br",
  RON: "lei",
  BGN: "лв",
  HRK: "kn",
  RSD: "Дин.",
  BAM: "KM",
  MKD: "ден",
  ALL: "L",
  ISK: "kr",
  FOK: "kr",
  GIP: "£",
  JEP: "£",
  GGP: "£",
  IMP: "£",
  FKP: "£",
  SHP: "£",
  CYP: "£",
  MTL: "Lm",
  SKK: "Sk",
  SIT: "SIT",
  EEK: "kr",
  LVL: "Ls",
  LTL: "Lt",
};

// Language display names
export const LANGUAGE_NAMES: Record<Language, string> = {
  en: "English",
  es: "Español",
  fr: "Français",
  de: "Deutsch",
  it: "Italiano",
  pt: "Português",
  ru: "Русский",
  zh: "中文",
  ja: "日本語",
  ko: "한국어",
  ar: "العربية",
  hi: "हिन्दी",
  tr: "Türkçe",
  pl: "Polski",
  nl: "Nederlands",
  sv: "Svenska",
  da: "Dansk",
  no: "Norsk",
  fi: "Suomi",
  cs: "Čeština",
  hu: "Magyar",
  ro: "Română",
  bg: "Български",
  hr: "Hrvatski",
  sk: "Slovenčina",
  sl: "Slovenščina",
  et: "Eesti",
  lv: "Latviešu",
  lt: "Lietuvių",
  mt: "Malti",
  cy: "Cymraeg",
  ga: "Gaeilge",
  is: "Íslenska",
  fo: "Føroyskt",
  gl: "Galego",
  eu: "Euskera",
  ca: "Català",
  oc: "Occitan",
  rm: "Rumantsch",
  lb: "Lëtzebuergesch",
  gsw: "Alemannisch",
  fur: "Furlan",
  lad: "Ladino",
  sc: "Sardu",
  co: "Corsu",
  br: "Brezhoneg",
  gd: "Gàidhlig",
  kw: "Kernowek",
  gv: "Gaelg",
};

// Region display names
export const REGION_NAMES: Record<Region, string> = {
  US: "United States",
  CA: "Canada",
  MX: "Mexico",
  BR: "Brazil",
  AR: "Argentina",
  CL: "Chile",
  CO: "Colombia",
  PE: "Peru",
  VE: "Venezuela",
  EC: "Ecuador",
  UY: "Uruguay",
  PY: "Paraguay",
  BO: "Bolivia",
  GY: "Guyana",
  SR: "Suriname",
  GF: "French Guiana",
  FK: "Falkland Islands",
  GS: "South Georgia",
  GB: "United Kingdom",
  IE: "Ireland",
  FR: "France",
  ES: "Spain",
  PT: "Portugal",
  IT: "Italy",
  DE: "Germany",
  AT: "Austria",
  CH: "Switzerland",
  LI: "Liechtenstein",
  LU: "Luxembourg",
  BE: "Belgium",
  NL: "Netherlands",
  DK: "Denmark",
  SE: "Sweden",
  NO: "Norway",
  FI: "Finland",
  IS: "Iceland",
  FO: "Faroe Islands",
  GL: "Greenland",
  SJ: "Svalbard",
  PL: "Poland",
  CZ: "Czech Republic",
  SK: "Slovakia",
  HU: "Hungary",
  RO: "Romania",
  BG: "Bulgaria",
  SI: "Slovenia",
  HR: "Croatia",
  BA: "Bosnia and Herzegovina",
  RS: "Serbia",
  ME: "Montenegro",
  MK: "North Macedonia",
  AL: "Albania",
  GR: "Greece",
  CY: "Cyprus",
  MT: "Malta",
  TR: "Turkey",
  RU: "Russia",
  BY: "Belarus",
  UA: "Ukraine",
  MD: "Moldova",
  GE: "Georgia",
  AM: "Armenia",
  AZ: "Azerbaijan",
  KZ: "Kazakhstan",
  KG: "Kyrgyzstan",
  TJ: "Tajikistan",
  TM: "Turkmenistan",
  UZ: "Uzbekistan",
  AF: "Afghanistan",
  PK: "Pakistan",
  IN: "India",
  BD: "Bangladesh",
  LK: "Sri Lanka",
  MV: "Maldives",
  NP: "Nepal",
  BT: "Bhutan",
  CN: "China",
  MN: "Mongolia",
  KP: "North Korea",
  KR: "South Korea",
  JP: "Japan",
  TW: "Taiwan",
  HK: "Hong Kong",
  MO: "Macau",
  TH: "Thailand",
  VN: "Vietnam",
  LA: "Laos",
  KH: "Cambodia",
  MM: "Myanmar",
  MY: "Malaysia",
  SG: "Singapore",
  BN: "Brunei",
  ID: "Indonesia",
  TL: "Timor-Leste",
  PH: "Philippines",
  PG: "Papua New Guinea",
  AU: "Australia",
  NZ: "New Zealand",
  FJ: "Fiji",
  NC: "New Caledonia",
  VU: "Vanuatu",
  SB: "Solomon Islands",
  TO: "Tonga",
  WS: "Samoa",
  KI: "Kiribati",
  TV: "Tuvalu",
  NR: "Nauru",
  PW: "Palau",
  FM: "Micronesia",
  MH: "Marshall Islands",
  NU: "Niue",
  CK: "Cook Islands",
  PF: "French Polynesia",
  WF: "Wallis and Futuna",
  AS: "American Samoa",
  GU: "Guam",
  MP: "Northern Mariana Islands",
  PR: "Puerto Rico",
  VI: "U.S. Virgin Islands",
  EG: "Egypt",
  LY: "Libya",
  TN: "Tunisia",
  DZ: "Algeria",
  MA: "Morocco",
  EH: "Western Sahara",
  SD: "Sudan",
  SS: "South Sudan",
  ET: "Ethiopia",
  ER: "Eritrea",
  DJ: "Djibouti",
  SO: "Somalia",
  KE: "Kenya",
  UG: "Uganda",
  TZ: "Tanzania",
  RW: "Rwanda",
  BI: "Burundi",
  MG: "Madagascar",
  KM: "Comoros",
  MU: "Mauritius",
  SC: "Seychelles",
  MZ: "Mozambique",
  ZW: "Zimbabwe",
  ZM: "Zambia",
  MW: "Malawi",
  BW: "Botswana",
  SZ: "Eswatini",
  LS: "Lesotho",
  ZA: "South Africa",
  NA: "Namibia",
  AO: "Angola",
  CD: "Democratic Republic of the Congo",
  CF: "Central African Republic",
  TD: "Chad",
  CM: "Cameroon",
  GQ: "Equatorial Guinea",
  GA: "Gabon",
  CG: "Republic of the Congo",
  ST: "São Tomé and Príncipe",
  CV: "Cape Verde",
  SN: "Senegal",
  GM: "Gambia",
  GW: "Guinea-Bissau",
  GN: "Guinea",
  SL: "Sierra Leone",
  LR: "Liberia",
  CI: "Côte d'Ivoire",
  GH: "Ghana",
  TG: "Togo",
  BJ: "Benin",
  BF: "Burkina Faso",
  ML: "Mali",
  NE: "Niger",
  NG: "Nigeria",
  MR: "Mauritania",
  IR: "Iran",
  IQ: "Iraq",
  SY: "Syria",
  LB: "Lebanon",
  JO: "Jordan",
  IL: "Israel",
  PS: "Palestine",
  SA: "Saudi Arabia",
  YE: "Yemen",
  OM: "Oman",
  AE: "United Arab Emirates",
  QA: "Qatar",
  BH: "Bahrain",
  KW: "Kuwait",
};
