---
description: Naming conventions and folder structure rules for the Evolution One CMS project.
globs: **/*.{ts,tsx}
---

# Project Naming Conventions & Folder Structure

This document defines the architectural standards for component naming, file organization, and type definitions to ensure codebase consistency and readability.

## 1. Component Naming Conventions

### Page Components

All page-level content components must follow the `[PageName]PageContent` pattern.

- ✅ `ReportsPageContent.tsx`
- ✅ `DashboardPageContent.tsx`

### Tab-Specific Components

Components residing within a multi-tab system must be prefixed with the page name and their section.

- Pattern: `[PageName][Section][ComponentName]`
- ✅ `ReportsMachinesOverview.tsx`
- ✅ `ReportsLocationsTable.tsx`

### Feature-Specific Components

Components dedicated to a specific feature should be prefixed with the feature name.

- ✅ `AuthLoginForm.tsx`
- ✅ `MemberDetailsCard.tsx`

### Reusable UI Components

Low-level, project-wide reusable components live in `components/ui/` and should have simple, descriptive names.

- ✅ `Button.tsx`
- ✅ `Card.tsx`

## 2. Prop Type Naming Conventions

Prop types must match the component name with a `Props` suffix.

- ✅ `type ReportsLocationsTableProps = { ... }`
- ✅ `type DashboardMetricsCardProps = { ... }`

All prop types should be exported and placed in:

1. `lib/types/components.ts` for shared component props.
2. The component file itself ONLY if the type is unique and not used elsewhere (though centralized types are preferred).

## 3. Function Naming Conventions

### Event Handlers

Prefix with `handle`.

- ✅ `const handleRefresh = () => { ... }`
- ✅ `const onLocationClick = (id: string) => { ... }` (when passed as prop)

### Data Fetching

Prefix with `fetch`.

- ✅ `const fetchLocationData = async () => { ... }`

### Transformation/Formatting

Prefix with `format`, `calculate`, or `map`.

- ✅ `const formatCurrency = (val: number) => { ... }`
- ✅ `const calculateTotals = (data: Data[]) => { ... }`

## 4. Folder Structure

### Components Organization

`components/`
├── `[PageName]/` (Page-specific components)
│ ├── `tabs/` (Sub-folders for each main tab)
│ │ ├── `[TabName]/`
│ └── `[PageName]PageContent.tsx`
├── `ui/` (Project-wide reusable components)
│ └── `skeletons/` (Loading states)
├── `layout/` (Wrappers and navigation)

### 4.1. Component Grouping & Subfolders

**CRITICAL**: Even if a page doesn't have tabs, components should be grouped in subfolders for better organization and discoverability.

#### Subfolder Categories

When organizing page-specific components, use the following subfolder structure:

- **`tabs/`** - For tab-specific components (only when page has tabs)
  - Example: `components/reports/tabs/machines/ReportsMachinesOverview.tsx`

- **`modals/`** - For all modal components (create, edit, delete, issue, etc.)
  - Example: `components/collectionReport/modals/CollectionReportNewCollectionModal.tsx`

- **`layouts/`** - For desktop/mobile layout variants (when multiple layout files exist)
  - Example: `components/collectionReport/tabs/collection/CollectionReportListDesktop.tsx`

- **`details/`** - For detail page components
  - Example: `components/collectionReport/details/CollectionReportDetailsPageContent.tsx`

- **`sections/`** - For section components within a page
  - Example: `components/administration/sections/AdministrationUsersSection.tsx`

- **`common/`** - For shared components used across multiple tabs/sections
  - Example: `components/members/common/MembersMemberCard.tsx`

- **`forms/`** - For form-related components (form fields, form sections, etc.)
  - Example: `components/collectionReport/forms/CollectionReportNewCollectionFormFields.tsx`

- **`tables/`** - For table components (if multiple tables exist)
  - Example: `components/administration/tables/AdministrationUserTable.tsx`

- **`cards/`** - For card components (if multiple card types exist)
  - Example: `components/administration/cards/AdministrationUserCard.tsx`

- **`skeletons/`** - For skeleton/loading components (optional - can also use `components/ui/skeletons/`)
  - Example: `components/administration/skeletons/AdministrationUserTableSkeleton.tsx`

- **`mobile/`** - For mobile-specific components (when mobile components don't fit other categories)
  - Example: `components/collectionReport/mobile/CollectionReportMobileCollectedListPanel.tsx`

#### Folder Structure Examples

**Pages with tabs:**

```
components/reports/
├── tabs/
│   ├── machines/
│   │   └── ReportsMachinesOverview.tsx
│   └── locations/
│       └── ReportsLocationsTab.tsx
└── ReportsPageContent.tsx
```

**Pages without tabs but with modals:**

```
components/cabinets/
├── modals/
│   ├── CabinetsNewCabinetModal.tsx
│   └── CabinetsEditCabinetModal.tsx
├── details/
│   └── [detail components]
└── CabinetsPageContent.tsx
```

**Pages with multiple component types:**

```
components/collectionReport/
├── tabs/
│   ├── collection/
│   ├── monthly/
│   └── collector/
├── modals/
│   └── [modal components]
├── forms/
│   └── [form components]
└── CollectionReportPageContent.tsx
```

**Reference**: The `components/reports/` folder serves as the ideal example of proper organization with tabs, clear naming conventions, and grouped chart components.

### API Organization

`app/api/`
├── `lib/`
│ ├── `helpers/` (Business logic)
│ ├── `models/` (Mongoose schemas)
│ └── `types/` (Backend-specific types)
└── `[route]/` (Route handlers)

## 5. Summary of Best Practices

- **Lean Wrappers**: Keep `page.tsx` files minimal, delegating logic to a `PageContent` component.
- **Specific Loading States**: Create content-specific skeletons in `components/ui/skeletons/`.
- **Centralized Types**: Prefer `shared/types/` for data entities and `lib/types/` for UI-related types.
- **No Generic Names**: Avoid vague names like `Table.tsx` or `Map.tsx` outside of `components/ui/`.
